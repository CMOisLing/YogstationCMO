/obj/machinery/plaguemachine
	name = "Plague O Matic"
	desc = "A machine that generates a large amount of plague infused fleas and distributes them to every rodent on the station."
	icon = 'icons/obj/chemical.dmi'
	icon_state = "smoke0"
	density = TRUE
	circuit = /obj/item/circuitboard/machine/plaguemachine
	var/efficiency = 10
	var/on = FALSE
	var/cooldown = 0
	var/screen = "home"
	var/useramount = 30 // Last used amount


/obj/machinery/smoke_machine/RefreshParts()
	var/new_volume = REAGENTS_BASE_VOLUME
	for(var/obj/item/stock_parts/matter_bin/B in component_parts)
		new_volume += REAGENTS_BASE_VOLUME * B.rating
	if(!reagents)
		create_reagents(new_volume)
	reagents.maximum_volume = new_volume
	if(new_volume < reagents.total_volume)
		reagents.reaction(loc, TOUCH) // if someone manages to downgrade it without deconstructing
		reagents.clear_reagents()
	for(var/obj/item/stock_parts/manipulator/M in component_parts)
		efficiency += M.rating
	max_range = max(3, max_range)
